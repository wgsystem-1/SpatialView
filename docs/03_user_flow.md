# SpatialView - User Flow (ì‚¬ìš©ìž íë¦„ë„)

---

## 1. Main Application Flow (ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ íë¦„)

```mermaid
graph TD
    A[ðŸš€ ì•± ì‹œìž‘] --> B{ì´ì „ í”„ë¡œì íŠ¸ ìžˆìŒ?}
    B -->|ì˜ˆ| C[ìµœê·¼ í”„ë¡œì íŠ¸ í‘œì‹œ]
    B -->|ì•„ë‹ˆì˜¤| D[ë¹ˆ ì§€ë„ í™”ë©´]
    
    C --> E{í”„ë¡œì íŠ¸ ì—´ê¸°?}
    E -->|ì˜ˆ| F[í”„ë¡œì íŠ¸ ë¡œë“œ]
    E -->|ì•„ë‹ˆì˜¤| D
    
    F --> G[ðŸ—ºï¸ ë©”ì¸ í™”ë©´]
    D --> G
    
    G --> H{ì‚¬ìš©ìž ì•¡ì…˜ ì„ íƒ}
    
    H -->|íŒŒì¼ ì—´ê¸°| I[ðŸ“‚ íŒŒì¼ ë¡œë”© Flow]
    H -->|ë ˆì´ì–´ ê´€ë¦¬| J[ðŸ“š ë ˆì´ì–´ ê´€ë¦¬ Flow]
    H -->|ì†ì„± ì¡°íšŒ| K[ðŸ“Š ì†ì„± í…Œì´ë¸” Flow]
    H -->|ì§€ë„ ì¡°ìž‘| L[ðŸ—ºï¸ ì§€ë„ ì¡°ìž‘ Flow]
    H -->|í”„ë¡œì íŠ¸ ì €ìž¥| M[ðŸ’¾ ì €ìž¥ Flow]
    H -->|ì¢…ë£Œ| N[ðŸ‘‹ ì•± ì¢…ë£Œ]
    
    I --> G
    J --> G
    K --> G
    L --> G
    M --> G
```

---

## 2. File Loading Flow (íŒŒì¼ ë¡œë”© íë¦„)

```mermaid
graph TD
    A[ðŸ“‚ íŒŒì¼ ì—´ê¸° ì‹œìž‘] --> B{ìž…ë ¥ ë°©ì‹}
    
    B -->|ë©”ë‰´/ë²„íŠ¼| C[íŒŒì¼ ì„ íƒ Dialog]
    B -->|Drag & Drop| D[íŒŒì¼ Drop ê°ì§€]
    B -->|ìµœê·¼ íŒŒì¼| E[ìµœê·¼ íŒŒì¼ ëª©ë¡]
    
    C --> F[íŒŒì¼ ê²½ë¡œ íšë“]
    D --> F
    E --> F
    
    F --> G{í™•ìž¥ìž í™•ì¸}
    
    G -->|.shp| H[ShapefileProvider]
    G -->|.geojson/.json| I[GeoJsonProvider]
    G -->|.gdb í´ë”| J[FileGdbProvider]
    G -->|.kml/.kmz| K[KmlProvider]
    G -->|.dxf| L[DxfProvider]
    G -->|.gpx| M[GpxProvider]
    G -->|ë¯¸ì§€ì›| N[âŒ ì˜¤ë¥˜ ë©”ì‹œì§€]
    
    H --> O[ë°ì´í„° ë¡œë”©]
    I --> O
    J --> P{ë ˆì´ì–´ ì„ íƒ}
    K --> O
    L --> O
    M --> O
    
    P --> Q[ë ˆì´ì–´ ì„ íƒ Dialog]
    Q --> O
    
    O --> R{ì¢Œí‘œê³„ ê°ì§€}
    R -->|ìžë™ ê°ì§€| S[ì¢Œí‘œê³„ ì ìš©]
    R -->|ê°ì§€ ì‹¤íŒ¨| T[ì¢Œí‘œê³„ ì„ íƒ Dialog]
    T --> S
    
    S --> U[ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì ìš©]
    U --> V[Layer ìƒì„±]
    V --> W[Mapì— ì¶”ê°€]
    W --> X[Layer Panel ì—…ë°ì´íŠ¸]
    X --> Y[ì§€ë„ ë²”ìœ„ ì¡°ì •]
    Y --> Z[âœ… ë¡œë”© ì™„ë£Œ]
    
    N --> AA[ë¡œë”© ì¢…ë£Œ]
```

---

## 3. Layer Management Flow (ë ˆì´ì–´ ê´€ë¦¬ íë¦„)

```mermaid
graph TD
    A[ðŸ“š Layer Panel] --> B{ë ˆì´ì–´ ì¡°ìž‘}
    
    B -->|í‘œì‹œ/ìˆ¨ê¹€| C[Checkbox í† ê¸€]
    C --> D[IsVisible ë³€ê²½]
    D --> E[ì§€ë„ ê°±ì‹ ]
    
    B -->|ìˆœì„œ ë³€ê²½| F[Drag ì‹œìž‘]
    F --> G[Drag ì¤‘ - ìœ„ì¹˜ í‘œì‹œ]
    G --> H[Drop]
    H --> I[ë ˆì´ì–´ ìˆœì„œ ìž¬ì •ë ¬]
    I --> E
    
    B -->|íˆ¬ëª…ë„ ì¡°ì ˆ| J[Slider ì¡°ìž‘]
    J --> K[Opacity ê°’ ë³€ê²½]
    K --> L[Style Alpha ì—…ë°ì´íŠ¸]
    L --> E
    
    B -->|ë ˆì´ì–´ ì‚­ì œ| M[ì‚­ì œ ë²„íŠ¼/ë©”ë‰´]
    M --> N{ì‚­ì œ í™•ì¸?}
    N -->|ì˜ˆ| O[ë ˆì´ì–´ ì œê±°]
    N -->|ì•„ë‹ˆì˜¤| A
    O --> P[ë¦¬ì†ŒìŠ¤ í•´ì œ]
    P --> E
    
    B -->|Zoom to Layer| Q[ë²”ìœ„ë¡œ ì´ë™ ë©”ë‰´]
    Q --> R[Layer Extent ê³„ì‚°]
    R --> S[ì§€ë„ ë²”ìœ„ ì„¤ì •]
    S --> E
    
    B -->|ì´ë¦„ ë³€ê²½| T[ì´ë¦„ ë”ë¸”í´ë¦­]
    T --> U[Inline íŽ¸ì§‘]
    U --> V[ì´ë¦„ ì €ìž¥]
    V --> A
    
    E --> A
```

---

## 4. Attribute Table Flow (ì†ì„± í…Œì´ë¸” íë¦„)

```mermaid
graph TD
    A[ðŸ“Š ì†ì„± í…Œì´ë¸” ì—´ê¸°] --> B[ë ˆì´ì–´ ì„ íƒ]
    B --> C[Feature ë°ì´í„° ë¡œë“œ]
    C --> D[DataGrid í‘œì‹œ]
    
    D --> E{í…Œì´ë¸” ì¡°ìž‘}
    
    E -->|ì •ë ¬| F[Column Header í´ë¦­]
    F --> G[ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬]
    G --> D
    
    E -->|í•„í„°| H[í•„í„° ë²„íŠ¼ í´ë¦­]
    H --> I[í•„í„° Dialog]
    I --> J[ì¡°ê±´ ìž…ë ¥]
    J --> K[í•„í„° ì ìš©]
    K --> L[í•„í„°ëœ ë°ì´í„° í‘œì‹œ]
    L --> D
    
    E -->|í–‰ ì„ íƒ| M[í–‰ í´ë¦­]
    M --> N[Feature ID íšë“]
    N --> O[ì§€ë„ì—ì„œ Highlight]
    O --> D
    
    E -->|í–‰ ë”ë¸”í´ë¦­| P[í•´ë‹¹ Featureë¡œ Zoom]
    P --> D
    
    E -->|CSV ë‚´ë³´ë‚´ê¸°| Q[ë‚´ë³´ë‚´ê¸° ë²„íŠ¼]
    Q --> R[ì €ìž¥ ê²½ë¡œ ì„ íƒ]
    R --> S[CSV íŒŒì¼ ìƒì„±]
    S --> T[ì™„ë£Œ ë©”ì‹œì§€]
    T --> D
    
    E -->|íŒ¨ë„ ë‹«ê¸°| U[ë‹«ê¸° ë²„íŠ¼]
    U --> V[íŒ¨ë„ ìˆ¨ê¹€]
```

---

## 5. Map Interaction Flow (ì§€ë„ ì¡°ìž‘ íë¦„)

```mermaid
graph TD
    A[ðŸ—ºï¸ ì§€ë„ ì˜ì—­] --> B{ì‚¬ìš©ìž ìž…ë ¥}
    
    B -->|ë§ˆìš°ìŠ¤ íœ | C[Zoom In/Out]
    C --> D[Zoom Level ë³€ê²½]
    D --> E[Tile ìž¬ë¡œë”©]
    E --> F[ì§€ë„ ê°±ì‹ ]
    
    B -->|ë§ˆìš°ìŠ¤ Drag| G[Pan ì‹œìž‘]
    G --> H[ì§€ë„ ì¤‘ì‹¬ ì´ë™]
    H --> F
    
    B -->|Feature í´ë¦­| I[í´ë¦­ ìœ„ì¹˜ ê°ì§€]
    I --> J[Hit Test]
    J --> K{Feature ë°œê²¬?}
    K -->|ì˜ˆ| L[Feature ì„ íƒ]
    K -->|ì•„ë‹ˆì˜¤| M[ì„ íƒ í•´ì œ]
    L --> N[Highlight í‘œì‹œ]
    N --> O[ì†ì„± Popup/Panel]
    O --> F
    M --> F
    
    B -->|ìš°í´ë¦­| P[Context Menu]
    P --> Q{ë©”ë‰´ ì„ íƒ}
    Q -->|ì—¬ê¸°ë¡œ ì´ë™| R[ì§€ë„ ì¤‘ì‹¬ ë³€ê²½]
    Q -->|ì¢Œí‘œ ë³µì‚¬| S[Clipboard ë³µì‚¬]
    R --> F
    S --> F
    
    B -->|ë§ˆìš°ìŠ¤ ì´ë™| T[ì¢Œí‘œ ì—…ë°ì´íŠ¸]
    T --> U[Status Bar ì¢Œí‘œ í‘œì‹œ]
    
    F --> A
```

---

## 6. Project Save/Load Flow (í”„ë¡œì íŠ¸ ì €ìž¥/ë¶ˆëŸ¬ì˜¤ê¸° íë¦„)

```mermaid
graph TD
    subgraph Save Flow
        A[ðŸ’¾ ì €ìž¥ ì‹œìž‘] --> B{ì €ìž¥ ê²½ë¡œ ìžˆìŒ?}
        B -->|ì˜ˆ| C[ê¸°ì¡´ ê²½ë¡œì— ì €ìž¥]
        B -->|ì•„ë‹ˆì˜¤| D[ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ìž¥]
        D --> E[SaveFileDialog]
        E --> F[ê²½ë¡œ ì„ íƒ]
        F --> G[í”„ë¡œì íŠ¸ ë°ì´í„° ìˆ˜ì§‘]
        C --> G
        G --> H[JSON Serialize]
        H --> I[íŒŒì¼ ì“°ê¸°]
        I --> J[ìµœê·¼ íŒŒì¼ ëª©ë¡ ì—…ë°ì´íŠ¸]
        J --> K[âœ… ì €ìž¥ ì™„ë£Œ]
    end
    
    subgraph Load Flow
        L[ðŸ“‚ ì—´ê¸° ì‹œìž‘] --> M[OpenFileDialog]
        M --> N[.svproj íŒŒì¼ ì„ íƒ]
        N --> O[JSON Parse]
        O --> P{ë²„ì „ í˜¸í™˜?}
        P -->|ì˜ˆ| Q[ë ˆì´ì–´ ìˆœì°¨ ë¡œë”©]
        P -->|ì•„ë‹ˆì˜¤| R[âŒ í˜¸í™˜ ì˜¤ë¥˜]
        Q --> S{ëª¨ë“  ë ˆì´ì–´ ì„±ê³µ?}
        S -->|ì˜ˆ| T[ì§€ë„ ì„¤ì • ë³µì›]
        S -->|ì¼ë¶€ ì‹¤íŒ¨| U[ê²½ê³  + ê³„ì†]
        U --> T
        T --> V[âœ… ë¡œë”© ì™„ë£Œ]
    end
```

---

## 7. Error Handling Flow (ì˜¤ë¥˜ ì²˜ë¦¬ íë¦„)

```mermaid
graph TD
    A[ìž‘ì—… ì‹¤í–‰] --> B{ì˜¤ë¥˜ ë°œìƒ?}
    
    B -->|ì•„ë‹ˆì˜¤| C[âœ… ì •ìƒ ì™„ë£Œ]
    
    B -->|ì˜ˆ| D{ì˜¤ë¥˜ ìœ í˜•}
    
    D -->|íŒŒì¼ ì—†ìŒ| E[íŒŒì¼ ê²½ë¡œ í™•ì¸ ë©”ì‹œì§€]
    D -->|í¬ë§· ì˜¤ë¥˜| F[ì§€ì› í¬ë§· ì•ˆë‚´]
    D -->|ê¶Œí•œ ì—†ìŒ| G[ê¶Œí•œ ìš”ì²­ ì•ˆë‚´]
    D -->|ë„¤íŠ¸ì›Œí¬| H[ì—°ê²° í™•ì¸ ì•ˆë‚´]
    D -->|ì•Œ ìˆ˜ ì—†ìŒ| I[ì¼ë°˜ ì˜¤ë¥˜ ë©”ì‹œì§€]
    
    E --> J[ì˜¤ë¥˜ Dialog í‘œì‹œ]
    F --> J
    G --> J
    H --> J
    I --> J
    
    J --> K{ìž¬ì‹œë„?}
    K -->|ì˜ˆ| A
    K -->|ì•„ë‹ˆì˜¤| L[ìž‘ì—… ì·¨ì†Œ]
    
    J --> M[ì˜¤ë¥˜ ë¡œê¹…]
```

