<Window x:Class="SpatialView.Views.Dialogs.ErrorDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="오류"
        Width="500"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#D32F2F" Padding="20,16">
            <StackPanel Orientation="Horizontal">
                <materialDesign:PackIcon Kind="AlertCircle" Width="32" Height="32" 
                                         Foreground="White" VerticalAlignment="Center"/>
                <TextBlock x:Name="TitleTextBlock" Text="오류가 발생했습니다" 
                           FontSize="18" FontWeight="Bold"
                           Foreground="White"
                           Margin="12,0,0,0" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>
        
        <!-- Error Message -->
        <Border Grid.Row="1" Padding="20,16">
            <StackPanel>
                <TextBlock Text="오류 메시지:" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <Border Background="{DynamicResource MaterialDesignCardBackground}"
                        BorderBrush="{DynamicResource MaterialDesignDivider}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="12">
                    <TextBlock x:Name="ErrorMessageTextBlock" 
                               Text="Error message goes here" 
                               TextWrapping="Wrap"
                               MaxHeight="100"
                               FontSize="13"/>
                </Border>
            </StackPanel>
        </Border>
        
        <!-- Details (Expandable) -->
        <Expander Grid.Row="2" Header="상세 정보" Margin="20,0,20,16"
                  x:Name="DetailsExpander">
            <Border Background="{DynamicResource MaterialDesignCardBackground}"
                    BorderBrush="{DynamicResource MaterialDesignDivider}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="12"
                    Margin="0,8,0,0">
                <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
                    <TextBlock x:Name="DetailsTextBlock" 
                               Text="Stack trace goes here"
                               FontFamily="Consolas"
                               FontSize="11"
                               TextWrapping="Wrap"
                               Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                </ScrollViewer>
            </Border>
        </Expander>
        
        <!-- Buttons -->
        <Border Grid.Row="3" Background="{DynamicResource MaterialDesignCardBackground}"
                BorderBrush="{DynamicResource MaterialDesignDivider}"
                BorderThickness="0,1,0,0"
                Padding="20,12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0" 
                        Content="로그 폴더 열기"
                        Style="{StaticResource MaterialDesignOutlinedButton}"
                        Click="OpenLogFolder_Click"
                        Height="32"/>
                
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button Content="복사" 
                            Style="{StaticResource MaterialDesignOutlinedButton}"
                            Click="Copy_Click"
                            Margin="0,0,8,0"
                            Height="32"/>
                    <Button Content="확인" 
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Click="OK_Click"
                            Height="32"
                            Width="80"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>

